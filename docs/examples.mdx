---
title: 'Code Examples'
description: 'Common use cases and code examples for the WebLinq API'
---

# Code Examples

Explore common use cases and patterns for integrating the WebLinq API into your applications.

## E-commerce Product Monitoring

Monitor product prices, availability, and details across e-commerce sites.

<CodeGroup>
```javascript Node.js
const products = [
  'https://example.com/product/1',
  'https://example.com/product/2'
];

async function monitorProducts() {
for (const url of products) {
const response = await fetch('https://api.weblinq.dev/v1/web/content', {
method: 'POST',
headers: {
'Authorization': 'Bearer YOUR_API_KEY',
'Content-Type': 'application/json'
},
body: JSON.stringify({
url,
selectors: {
name: '.product-name',
price: '.product-price',
stock: '.stock-status'
},
wait_until: 'networkidle0'
})
});

    const data = await response.json();
    console.log('Product update:', data.results);

}
}

// Run every hour
setInterval(monitorProducts, 60 _ 60 _ 1000);

````

```python Python
import requests
import time
from typing import List, Dict

def monitor_products(products: List[str]) -> List[Dict]:
    results = []

    for url in products:
        response = requests.post(
            'https://api.weblinq.dev/v1/web/content',
            headers={
                'Authorization': 'Bearer YOUR_API_KEY',
                'Content-Type': 'application/json'
            },
            json={
                'url': url,
                'selectors': {
                    'name': '.product-name',
                    'price': '.product-price',
                    'stock': '.stock-status'
                },
                'wait_until': 'networkidle0'
            }
        )

        data = response.json()
        results.append(data['results'])

    return results

# Run every hour
while True:
    products = [
        'https://example.com/product/1',
        'https://example.com/product/2'
    ]
    updates = monitor_products(products)
    print('Product updates:', updates)
    time.sleep(3600)
````

</CodeGroup>

<Tip>Use the `wait_until` parameter to ensure dynamic prices are loaded before scraping.</Tip>

## News Article Extraction

Extract clean, formatted content from news articles with proper attribution.

<CodeGroup>
```javascript Node.js
async function extractArticle(url) {
  const response = await fetch('https://api.weblinq.dev/v1/web/content', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      url,
      selectors: {
        title: 'h1',
        author: '.author-name',
        date: '.publish-date',
        content: 'article',
        image: '.featured-image'
      },
      wait_until: 'networkidle0'
    })
  });

const data = await response.json();

// Format as markdown
return `# ${data.results.title}
By ${data.results.author}
Published on ${data.results.date}

![Featured Image](${data.results.image})

${data.results.content}

Source: [${url}](${url})
`;
}

// Example usage
const article = await extractArticle('https://news-site.com/article/123');
console.log(article);

````

```python Python
import requests
from datetime import datetime

def extract_article(url: str) -> str:
    response = requests.post(
        'https://api.weblinq.dev/v1/web/content',
        headers={
            'Authorization': 'Bearer YOUR_API_KEY',
            'Content-Type': 'application/json'
        },
        json={
            'url': url,
            'selectors': {
                'title': 'h1',
                'author': '.author-name',
                'date': '.publish-date',
                'content': 'article',
                'image': '.featured-image'
            },
            'wait_until': 'networkidle0'
        }
    )

    data = response.json()

    # Format as markdown
    return f"""# {data['results']['title']}
By {data['results']['author']}
Published on {data['results']['date']}

![Featured Image]({data['results']['image']})

{data['results']['content']}

Source: [{url}]({url})
"""

# Example usage
article = extract_article('https://news-site.com/article/123')
print(article)
````

</CodeGroup>

<Note>Always respect the source website's terms of service and include proper attribution.</Note>

## Social Media Preview Generation

Generate social media preview images with custom dimensions and branding.

<CodeGroup>
```javascript Node.js
async function generatePreview(url, options = {}) {
  const response = await fetch('https://api.weblinq.dev/v1/web/screenshot', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      url,
      viewport: {
        width: options.width || 1200,
        height: options.height || 630
      },
      screenshotOptions: {
        type: 'jpeg',
        quality: 90,
        clip: {
          x: 0,
          y: 0,
          width: options.width || 1200,
          height: options.height || 630
        }
      },
      wait_until: 'networkidle0',
      // Optional: inject custom CSS
      styles: `
        body::before {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 80px;
          background: linear-gradient(transparent, rgba(0,0,0,0.7));
        }
      `
    })
  });

const data = await response.json();
return data.image; // Base64 encoded image
}

// Generate previews for different platforms
const previews = await Promise.all([
generatePreview('https://example.com', { width: 1200, height: 630 }), // Facebook
generatePreview('https://example.com', { width: 1024, height: 512 }), // Twitter
generatePreview('https://example.com', { width: 1080, height: 1080 }) // Instagram
]);

````

```python Python
import requests
from typing import Dict, Optional

def generate_preview(url: str, options: Optional[Dict] = None) -> str:
    if options is None:
        options = {}

    response = requests.post(
        'https://api.weblinq.dev/v1/web/screenshot',
        headers={
            'Authorization': 'Bearer YOUR_API_KEY',
            'Content-Type': 'application/json'
        },
        json={
            'url': url,
            'viewport': {
                'width': options.get('width', 1200),
                'height': options.get('height', 630)
            },
            'screenshotOptions': {
                'type': 'jpeg',
                'quality': 90,
                'clip': {
                    'x': 0,
                    'y': 0,
                    'width': options.get('width', 1200),
                    'height': options.get('height', 630)
                }
            },
            'wait_until': 'networkidle0',
            # Optional: inject custom CSS
            'styles': """
                body::before {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 80px;
                    background: linear-gradient(transparent, rgba(0,0,0,0.7));
                }
            """
        }
    )

    data = response.json()
    return data['image']  # Base64 encoded image

# Generate previews for different platforms
previews = {
    'facebook': generate_preview('https://example.com', {'width': 1200, 'height': 630}),
    'twitter': generate_preview('https://example.com', {'width': 1024, 'height': 512}),
    'instagram': generate_preview('https://example.com', {'width': 1080, 'height': 1080})
}
````

</CodeGroup>

<Tip>Use the `styles` parameter to inject custom CSS for branding and visual enhancements.</Tip>

## Competitive Analysis

Monitor competitor websites for changes in pricing, features, or content.

<CodeGroup>
```javascript Node.js
const competitors = [
  {
    name: 'Competitor A',
    url: 'https://competitor-a.com',
    selectors: {
      pricing: '.pricing-table',
      features: '.feature-list li',
      updates: '.changelog'
    }
  },
  // Add more competitors...
];

async function monitorCompetitors() {
const changes = [];

for (const competitor of competitors) {
const response = await fetch('https://api.weblinq.dev/v1/web/content', {
method: 'POST',
headers: {
'Authorization': 'Bearer YOUR_API_KEY',
'Content-Type': 'application/json'
},
body: JSON.stringify({
url: competitor.url,
selectors: competitor.selectors,
wait_until: 'networkidle0',
// Compare with previous snapshot
compare: true
})
});

    const data = await response.json();

    if (data.changes) {
      changes.push({
        competitor: competitor.name,
        changes: data.changes
      });
    }

}

return changes;
}

// Run daily
setInterval(async () => {
const updates = await monitorCompetitors();
if (updates.length > 0) {
console.log('Competitor updates detected:', updates);
// Send notifications, update dashboard, etc.
}
}, 24 _ 60 _ 60 \* 1000);

````

```python Python
import requests
from typing import List, Dict
import time

competitors = [
    {
        'name': 'Competitor A',
        'url': 'https://competitor-a.com',
        'selectors': {
            'pricing': '.pricing-table',
            'features': '.feature-list li',
            'updates': '.changelog'
        }
    }
    # Add more competitors...
]

def monitor_competitors() -> List[Dict]:
    changes = []

    for competitor in competitors:
        response = requests.post(
            'https://api.weblinq.dev/v1/web/content',
            headers={
                'Authorization': 'Bearer YOUR_API_KEY',
                'Content-Type': 'application/json'
            },
            json={
                'url': competitor['url'],
                'selectors': competitor['selectors'],
                'wait_until': 'networkidle0',
                # Compare with previous snapshot
                'compare': True
            }
        )

        data = response.json()

        if data.get('changes'):
            changes.append({
                'competitor': competitor['name'],
                'changes': data['changes']
            })

    return changes

# Run daily
while True:
    updates = monitor_competitors()
    if updates:
        print('Competitor updates detected:', updates)
        # Send notifications, update dashboard, etc.
    time.sleep(24 * 60 * 60)
````

</CodeGroup>

<Warning>Ensure your monitoring respects the competitor's robots.txt and terms of service.</Warning>

## PDF Generation

Generate PDFs from web content with custom styling and formatting.

<CodeGroup>
```javascript Node.js
async function generatePDF(url, options = {}) {
  const response = await fetch('https://api.weblinq.dev/v1/web/pdf', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      url,
      pdf: {
        format: options.format || 'A4',
        landscape: options.landscape || false,
        margin: {
          top: '1cm',
          right: '1cm',
          bottom: '1cm',
          left: '1cm'
        },
        printBackground: true
      },
      // Optional: inject custom styles
      styles: `
        @page {
          size: A4;
          margin: 1cm;
        }
        body {
          font-family: Arial, sans-serif;
        }
        .page-break {
          page-break-after: always;
        }
      `,
      wait_until: 'networkidle0'
    })
  });

const data = await response.json();
return data.pdf; // Base64 encoded PDF
}

// Example: Generate PDF with custom options
const pdf = await generatePDF('https://example.com', {
format: 'A4',
landscape: false
});

// Save to file
const buffer = Buffer.from(pdf, 'base64');
require('fs').writeFileSync('output.pdf', buffer);

````

```python Python
import requests
import base64
from typing import Dict, Optional

def generate_pdf(url: str, options: Optional[Dict] = None) -> str:
    if options is None:
        options = {}

    response = requests.post(
        'https://api.weblinq.dev/v1/web/pdf',
        headers={
            'Authorization': 'Bearer YOUR_API_KEY',
            'Content-Type': 'application/json'
        },
        json={
            'url': url,
            'pdf': {
                'format': options.get('format', 'A4'),
                'landscape': options.get('landscape', False),
                'margin': {
                    'top': '1cm',
                    'right': '1cm',
                    'bottom': '1cm',
                    'left': '1cm'
                },
                'printBackground': True
            },
            # Optional: inject custom styles
            'styles': """
                @page {
                    size: A4;
                    margin: 1cm;
                }
                body {
                    font-family: Arial, sans-serif;
                }
                .page-break {
                    page-break-after: always;
                }
            """,
            'wait_until': 'networkidle0'
        }
    )

    data = response.json()
    return data['pdf']  # Base64 encoded PDF

# Example: Generate PDF with custom options
pdf_base64 = generate_pdf('https://example.com', {
    'format': 'A4',
    'landscape': False
})

# Save to file
pdf_bytes = base64.b64decode(pdf_base64)
with open('output.pdf', 'wb') as f:
    f.write(pdf_bytes)
````

</CodeGroup>

<Tip>Use CSS page media queries (@page) to control page breaks and formatting.</Tip>

## Need Help?

<CardGroup cols={2}>
  <Card title="Join our Discord" icon="discord" href="https://discord.gg/weblinq">
    Get help from the community and share your projects
  </Card>
  <Card title="Email Support" icon="envelope" href="mailto:support@weblinq.dev">
    Enterprise customers get priority email support
  </Card>
</CardGroup>{' '}
